{% extends '_layout.twig' %}

{% block content %}

    <h2>Report: <code>{{ report.name }}</code></h2>


    <h3>Legend</h3>

    <p>
        {{ report.description }}
    </p>

    <h3>Parameters</h3>

    <form class="form-horizontal" action="/report/{{ report.baseName }}/result" method="GET">
        {% for p in report.parameters %}
            <div class="form-group">
                <label for="{{ p.placeholder }}" class="col-sm-2 control-label">Email</label>

                <div class="col-sm-10">
                    <input type="text" class="form-control" id="{{ p.placeholder }}" placeholder="{{ p.default }}"
                           name="{{ p.placeholder }}" value="{{ parameters.get(p.placeholder,p.default) }}">
                </div>
            </div>
        {% endfor %}
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <button type="submit" class="btn btn-default">Generate</button>
            </div>
        </div>
    </form>

    <h3>Raw SQL</h3>
    <pre>
    {{ report.sql }}
</pre>

{% endblock %}
